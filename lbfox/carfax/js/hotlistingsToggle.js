function reloadInventoryManagerFrame(){try{var a=self.opener.parent.frames[0].document.getElementById("inventoryManagerLink").href;self.opener.parent.frames[1].location.href=a}catch(b){}}var UpdateMessages={ADDED:"This vehicle has been added to your online listings!",REMOVED:"This vehicle has been removed from your online listings!"};function displayUpdateMessage(b){$("#icr-updated-message").text(b).fadeIn("slow").css("visibility","visible");var c=function(){$(this).css({display:"inline",visibility:"hidden"})};var a=function(){$("#icr-updated-message").fadeOut("slow",c)};setTimeout(a,3000)}function switchInventoryStatus(b,a){$("#toggleIndicator").css("visibility","visible");var c={listing:{online:a}};updateOnlineStatus(b,{success:function(e){var d=$(".toggleActivated");var g=$(".toggleDeactivated");d.attr("class","toggleDeactivated");g.attr("class","toggleActivated");reloadInventoryManagerFrame();$("#toggleIndicator").css("visibility","hidden");var f=(a)?UpdateMessages.ADDED:UpdateMessages.REMOVED;displayUpdateMessage(f)},data:c})}function meta(a){var b=$('meta[name="'+a+'"]').attr("content");return(b)?b:""}function icrToggleOnClick(b){var a;a=($("#onlineListingsToggleOn").attr("class")=="toggleActivated")?false:true;switchInventoryStatus(meta("subscriberVin"),a)}function toggleButtonSetup(){$("#toggleButtonActivator a").click(icrToggleOnClick);$(".toggle-def").mouseover(function(){showtip(this,"defOnlineListingsToggle")}).mouseout(function(){hidetip("defOnlineListingsToggle")})}function toggleButton(a){if(a=="off"){$("#onlineListingsToggleOn").attr("class","toggleDeactivated");$("#onlineListingsToggleOff").attr("class","toggleActivated")}else{$("#onlineListingsToggleOn").attr("class","toggleActivated");$("#onlineListingsToggleOff").attr("class","toggleDeactivated")}}$(DocumentHelper.getDocument()).ready(toggleButtonSetup);